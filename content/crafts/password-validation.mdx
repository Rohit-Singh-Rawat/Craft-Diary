---
title: Password Validation
category: Input
description: Animated password validation component with customizable rules and real-time feedback
---

# Password Validation

An animated password validation component that provides real-time feedback on password strength with customizable validation rules.

## Features

- ðŸŽ¯ Real-time password validation
- ðŸŽ¨ Animated badge indicators with smooth transitions
- ðŸ”§ Fully customizable validation rules
- â™¿ Accessible with ARIA support
- ðŸŽ­ Smooth animations with Framer Motion
- ðŸ“± Responsive design
- ðŸŒ— Dark mode support

## Installation

### Dependencies

```bash
npm install motion lucide-react
# or
bun add motion lucide-react
```

### Required Components (shadcn/ui)

This component depends on the following shadcn/ui components. Install them first:

```bash
npx shadcn@latest add badge
npx shadcn@latest add label
# or using your components.json registry
```

If you don't have these components, you can create them manually:

**Badge Component** (`components/ui/badge.tsx`):

```tsx
import * as React from 'react';
import { cva, type VariantProps } from 'class-variance-authority';
import { cn } from '@/lib/utils';

const badgeVariants = cva(
	'inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2',
	{
		variants: {
			variant: {
				default: 'border-transparent bg-primary text-primary-foreground hover:bg-primary/80',
				secondary:
					'border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80',
				destructive:
					'border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80',
				outline: 'text-foreground',
			},
		},
		defaultVariants: {
			variant: 'default',
		},
	}
);

export interface BadgeProps
	extends React.HTMLAttributes<HTMLDivElement>,
		VariantProps<typeof badgeVariants> {}

function Badge({ className, variant, ...props }: BadgeProps) {
	return (
		<div
			className={cn(badgeVariants({ variant }), className)}
			{...props}
		/>
	);
}

export { Badge, badgeVariants };
```

**Label Component** (`components/ui/label.tsx`):

```tsx
'use client';

import * as React from 'react';
import * as LabelPrimitive from '@radix-ui/react-label';
import { cva, type VariantProps } from 'class-variance-authority';
import { cn } from '@/lib/utils';

const labelVariants = cva(
	'text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70'
);

const Label = React.forwardRef<
	React.ElementRef<typeof LabelPrimitive.Root>,
	React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> & VariantProps<typeof labelVariants>
>(({ className, ...props }, ref) => (
	<LabelPrimitive.Root
		ref={ref}
		className={cn(labelVariants(), className)}
		{...props}
	/>
));
Label.displayName = LabelPrimitive.Root.displayName;

export { Label };
```

**Note:** The Label component requires `@radix-ui/react-label`:

```bash
npm install @radix-ui/react-label
```

## Usage

### Basic Usage

```tsx
import { PasswordValidation } from '@/craft/components/password-validation';
import { Input } from '@/components/ui/input';
import { Label } from '@/components/ui/label';

function MyForm() {
	const [password, setPassword] = useState('');

	return (
		<div>
			<Label htmlFor='password'>Password</Label>
			<Input
				id='password'
				type='password'
				value={password}
				onChange={(e) => setPassword(e.target.value)}
			/>
			<PasswordValidation password={password} />
		</div>
	);
}
```

### Custom Validation Rules

```tsx
import { PasswordValidation, PasswordRule } from '@/craft/components/password-validation';

const customRules: PasswordRule[] = [
	{
		label: '12+ characters',
		validator: (password) => password.length >= 12,
	},
	{
		label: 'Contains emoji',
		validator: (password) => /[\p{Emoji}]/u.test(password),
	},
];

<PasswordValidation
	password={password}
	rules={customRules}
/>;
```

### With React Hook Form

The component works seamlessly with React Hook Form (optional dependency):

```bash
npm install react-hook-form @hookform/resolvers zod
```

```tsx
import { useForm } from 'react-hook-form';
import { zodResolver } from '@hookform/resolvers/zod';
import { PasswordValidation } from '@/craft/components/password-validation';
import * as z from 'zod';

const schema = z.object({
	password: z.string().min(8),
});

function RegisterForm() {
	const {
		register,
		watch,
		formState: { errors },
	} = useForm({
		resolver: zodResolver(schema),
	});
	const password = watch('password');

	return (
		<form>
			<input
				{...register('password')}
				type='password'
			/>
			<PasswordValidation
				password={password}
				error={errors.password}
			/>
		</form>
	);
}
```

## API Reference

### PasswordValidation Props

- `password: string` - The password to validate (required)
- `rules?: PasswordRule[]` - Array of validation rules (default: `defaultPasswordRules`)
- `error?: ValidationError` - Error object with optional `message` property (compatible with React Hook Form's FieldError)
- `className?: string` - Additional CSS classes
- `alwaysShow?: boolean` - Show validation even when all rules pass (default: false)

### PasswordRule Interface

```tsx
interface PasswordRule {
	label: string;
	validator: (password: string) => boolean;
}
```

### Default Rules

The component comes with sensible default rules:

- 8+ characters
- Uppercase letter
- Lowercase letter
- Number
- Special character

## Behavior

- Shows validation when:
  - Password has content and not all rules pass
  - Error is present
  - `alwaysShow` is true
- Hides validation when password is empty (unless `alwaysShow` is true)
- Each badge animates in with a staggered delay
- Check/X icons animate with zoom effect
- Smooth height transitions when showing/hiding

## Styling

The component uses Tailwind CSS and adapts to your theme:

- Light/dark mode support
- Valid rules show in full opacity
- Invalid rules show in muted colors
- Green check icon for valid rules
- Gray X icon for invalid rules

## Dependencies Summary

### Required

- `motion` - For smooth animations (uses `motion/react` import)
- `lucide-react` - For Check/X icons
- `@radix-ui/react-label` - For Label component (if using shadcn/ui label)
- `class-variance-authority` - For component variants
- `tailwind-merge` - For className merging

### Optional

- `react-hook-form` - For form validation integration
- `@hookform/resolvers` - For schema validation with react-hook-form
- `zod` - For schema-based validation

### shadcn/ui Components

- **Badge** - Required for validation indicators
- **Label** - Required for form labels (in examples)
- **Input** - Required for password input (in examples)
- **Button** - Required for form submission (in examples)

## Examples

See the demo for examples of:

- Basic usage with input
- Custom validation rules
- Always-visible validation
- Complete form with password confirmation
